!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define("sco",n):n()}(0,function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementsByTagName("body")[0],n=document.getElementsByTagName("head")[0],t=document.createElement("link");if(t.type="text/css",t.rel="stylesheet",t.href="/.dev/css/sco.css",n.appendChild(t),/\/\.dev(\/|$)/i.test(location.pathname)){var r=document.createElement("div");return r.id="site-conveyer-widget",r.innerHTML='<header><a href="/">Back to your project</a></header>',void e.appendChild(r)}var o=document.createElement("div");o.id="site-conveyer-overlay",o.innerHTML='<header>SiteConveyer</header><div class="site-conveyer-overlay-errors"></div>',e.appendChild(o);var i=document.createElement("div");i.id="site-conveyer-widget",i.innerHTML='<header><a href="/.dev">SiteConveyer</a></header>',e.appendChild(i);var d=document.createElement("script");d.async=!0,d.src="/.dev/js/sco-io.js",e.appendChild(d);var a=document.getElementById("site-conveyer-overlay"),c=a.querySelector(".site-conveyer-overlay-errors"),s=function(){e.style.overflow="hidden",a.classList.add("__active")},l=function(){a.classList.remove("__active"),e.style.overflow=null},v=function(e){var n=e;return n=n.replace(/\u001b\[\d+m/g,"")},m=void 0,u=function(){m.on("error",function(e){if(e&&e.length){var n="";e.forEach(function(e){n+='\n                        <div class="site-conveyer-overlay-error">\n                            <header>\n                                Error "'+e.name+'" in '+e.plugin+(e.fileName?" at "+e.fileName:"")+":\n                            </header>\n                            <pre><code>"+e.message+(e.codeFrame?"\n\n"+v(e.codeFrame):"")+"</code></pre>\n                        </div>\n                    "}),c.innerHTML=n.replace(/>\s*</,"><").trim(),s()}else l()})};!function e(){"function"==typeof io?(m=io("http://localhost:9000"),u()):setTimeout(e,200)}()})});

//# sourceMappingURL=../sourcemaps/sco.js.map
