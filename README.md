# SiteConveyer by RemRyahirev

## Описание

Репозиторий-шаблон для вёрстки с использованием Stylus, Handlebars и ES6. Призван
помочь быстро начать верстать любой проект в удобной среде с автообновлением
через browser-sync.

## Установка

### Общее

1. Нужно склонировать текущий репозиторий
1. Установить [Git-клиент](https://git-scm.com)
1. Установить [Node.js](https://nodejs.org)
1. Установить [yarn](https://yarnpkg.com/en/docs/install) командой `npm i -g yarn` или любым другим способом из руководства
1. Проверить установку командой `yarn --version`, иначе проверить системную переменную `PATH`
1. Установить [WebStorm](https://www.jetbrains.com/webstorm/download)
1. В корневой папке выполнить `yarn`
1. В корневой папке выполнить `yarn init`

### Команды

1. Для запуска в корневой папке выполнить `yarn dev`
1. Для инициализации репозитория выполнить `yarn init`
1. Для сборки выполнить `yarn build`
1. Для деплоя выполнить `yarn deploy`
```
Внимание! Деплой пока делается только через git!
Не забудьте изменить путь до репозитория в /.dev/deploy.json
```

## Принцип работы

### Структура папок

1. src - исходные файлы
1. src/css - Stylus
1. src/html - HTML-компоненты для страниц
1. src/html/data - data
1. src/img - images
1. src/js - es6
1. dist - сюда складываются dev-версия сайта для работы
1. dist/ - сюда складываются готовые шаблоны (с подставленными компонентами)
1. dist/css - собранные файлы стилей
1. dist/img - images
1. dist/js - js
1. build - сюда складываются production-сборка
1. .dev - здесь находятся системные файлы для работы SiteConveyer
1. .dev/deploy.json - это файл с настройкой куда производить deploy

### Основной процесс

После запуска порождается процесс, который следит за содержимым папки `/src`.
В случае обнаружения изменения в этой папке запускаются сборщики
страниц, стилей, картинок и скриптов, происходит обновление папки `/dist`.

При пересборке страниц, картинок и скриптов происходит перезагрузка страницы
в браузере, в то время как при пересборке стилей файл стилей заменяется на
странице прямо на лету.

## Disclaimer

За корявость написанного никакой ответственности нет. Продукт поставляется по
принципу as-is.
